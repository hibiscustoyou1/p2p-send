<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>P2P 共享 - 传输</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet" />
    
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet" />
    
    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#3B82F6",
                        "primary-dark": "#2563EB",
                        "background-light": "#f8fafc",
                        "background-dark": "#0F172A", 
                        "surface-light": "#ffffff",
                        "surface-dark": "#1E293B",
                        "surface-darker": "#020617",
                        "accent-success": "#10B981",
                        "accent-warning": "#F59E0B",
                        "accent-error": "#EF4444",
                    },
                    fontFamily: {
                        display: ["Inter", "sans-serif"],
                        sans: ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        lg: "1rem",
                        xl: "1rem",
                        full: "9999px",
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                },
            },
        }
    </script>
    
    <style>
        [v-cloak] { display: none; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #334155; 
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        .dark ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        /* Glassmorphism utilities */
        .glass-panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        .dark .glass-panel {
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .active-nav {
            background: rgba(59, 130, 246, 0.15);
            border-left: 3px solid #3B82F6;
        }
        
        /* View transition animation */
        .fade-in {
            animation: fadeIn 0.25s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display min-h-screen flex overflow-hidden transition-colors duration-300">
    <div id="app" class="flex w-full h-screen" v-cloak>
        
        <!-- 左侧菜单栏 -->
        <aside class="w-64 flex-shrink-0 flex flex-col justify-between bg-white dark:bg-surface-darker border-r border-slate-200 dark:border-slate-800 z-20 transition-colors duration-300">
            <div class="flex flex-col gap-6 p-6">
                <!-- Logo -->
                <a href="transfer.html" class="flex flex-col cursor-pointer hover:opacity-80 transition-opacity">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="material-symbols-outlined text-primary text-3xl">share_reviews</span>
                        <h1 class="text-slate-900 dark:text-white text-xl font-bold tracking-tight">P2P 共享</h1>
                    </div>
                    <p class="text-slate-500 dark:text-slate-400 text-xs font-medium pl-1">安全控制台</p>
                </a>
                
                <!-- 主导航 -->
                <nav class="flex flex-col gap-2 mt-4">
                    <a href="transfer.html" class="active-nav text-primary rounded-r-xl flex items-center gap-3 px-4 py-3 transition-colors cursor-pointer group">
                        <span class="material-symbols-outlined fill-current">swap_horiz</span>
                        <span class="text-sm font-semibold">传输</span>
                    </a>
                    <a href="history.html" class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50 rounded-xl flex items-center gap-3 px-4 py-3 transition-colors cursor-pointer group">
                        <span class="material-symbols-outlined">history</span>
                        <span class="text-sm font-semibold">历史记录</span>
                    </a>
                    <a href="devices.html" class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50 rounded-xl flex items-center gap-3 px-4 py-3 transition-colors cursor-pointer group">
                        <span class="material-symbols-outlined">devices</span>
                        <span class="text-sm font-semibold">设备</span>
                    </a>
                </nav>
            </div>
            
            <!-- 底部操作与用户区 -->
            <div class="p-6 flex flex-col gap-2">
                <button class="flex w-full items-center justify-center gap-2 rounded-xl h-10 bg-primary/10 dark:bg-primary/20 text-primary hover:bg-primary/20 dark:hover:bg-primary/30 transition-all text-sm font-bold border border-primary/20">
                    <span class="material-symbols-outlined text-sm">add_link</span>
                    <span>快速链接</span>
                </button>
                
                <div class="mt-4 border-t border-slate-200 dark:border-slate-800 pt-4 flex flex-col gap-1">
                    <a href="settings.html" class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 flex items-center gap-3 px-3 py-2 rounded-xl transition-colors cursor-pointer">
                        <span class="material-symbols-outlined">settings</span>
                        <span class="text-sm font-medium">设置</span>
                    </a>
                    <button @click="toggleTheme" class="flex items-center gap-3 px-3 py-2 rounded-xl text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors w-full text-left">
                        <span class="material-symbols-outlined">{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</span>
                        <span class="text-sm font-medium">切换主题</span>
                    </button>
                </div>
                
                <!-- 用户信息 -->
                <div class="mt-2 flex items-center gap-3 px-3 pt-2">
                    <div class="h-8 w-8 rounded-full bg-gradient-to-br from-primary to-purple-500 flex items-center justify-center text-xs font-bold text-white shadow-lg shadow-primary/20">
                        JD
                    </div>
                    <div class="flex flex-col">
                        <span class="text-sm text-slate-900 dark:text-white font-medium">John Doe</span>
                        <span class="text-xs text-slate-500">专业版</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 右侧主内容区 -->
        <main class="flex-1 relative flex flex-col min-h-screen overflow-y-auto">
            
            <!-- 全局氛围光效背景 (仅作视觉点缀) -->
            <div class="absolute inset-0 z-0 pointer-events-none overflow-hidden">
                <div class="absolute -top-[20%] -right-[10%] w-[600px] h-[600px] bg-primary/10 rounded-full blur-[100px] dark:blur-[120px] transition-all duration-700"></div>
                <div class="absolute top-[40%] -left-[10%] w-[500px] h-[500px] bg-purple-600/5 dark:bg-purple-600/10 rounded-full blur-[100px] transition-all duration-700"></div>
            </div>

            <!-- 传输视图 -->
            <div class="relative z-10 p-8 max-w-6xl mx-auto w-full flex flex-col gap-8 fade-in">
                <!-- 连接码面板 -->
                <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 glass-panel rounded-xl p-6">
                    <div class="flex flex-col gap-2">
                        <div class="flex items-center gap-3">
                            <span class="flex h-3 w-3 rounded-full bg-accent-success shadow-[0_0_12px_rgba(16,185,129,0.4)] dark:shadow-[0_0_12px_rgba(16,185,129,0.6)]"></span>
                            <p class="text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider">您的设备已准备就绪</p>
                        </div>
                        <div class="flex items-end gap-3">
                            <h2 class="text-slate-900 dark:text-slate-100 text-4xl font-bold tracking-tight">782 914</h2>
                            <button class="text-primary hover:text-primary-dark mb-1 transition-colors" title="复制验证码">
                                <span class="material-symbols-outlined text-xl">content_copy</span>
                            </button>
                        </div>
                        <p class="text-slate-500 text-sm">分享此连接码以安全接收文件。</p>
                    </div>
                    
                    <div class="flex items-center gap-4 bg-slate-100/50 dark:bg-slate-900/50 p-2 rounded-xl border border-slate-200/80 dark:border-slate-700/50 w-full md:w-auto">
                        <div class="flex gap-2">
                            <input v-for="i in 6" :key="i" class="w-10 h-12 text-center bg-white dark:bg-slate-800 rounded-lg border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white font-bold text-lg focus:ring-primary focus:border-primary placeholder-slate-400 dark:placeholder-slate-600 transition-all shadow-sm" maxlength="1" placeholder="•" type="text" />
                        </div>
                        <button class="h-12 px-6 bg-primary hover:bg-primary-dark text-white rounded-lg font-bold shadow-lg shadow-primary/25 transition-all flex items-center gap-2">
                            <span>连接</span>
                            <span class="material-symbols-outlined text-sm">arrow_forward</span>
                        </button>
                    </div>
                </header>

                <!-- 拖拽上传区 -->
                <section class="relative group">
                    <div class="absolute -inset-0.5 bg-gradient-to-r from-primary/20 to-purple-600/20 dark:from-primary/30 dark:to-purple-600/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition duration-500"></div>
                    <div class="relative flex flex-col items-center justify-center p-12 bg-white/50 dark:bg-slate-900/80 backdrop-blur-sm rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 hover:border-primary/50 dark:hover:border-primary/50 transition-colors cursor-pointer w-full h-80">
                        <div class="h-20 w-20 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                            <span class="material-symbols-outlined text-primary text-5xl">cloud_upload</span>
                        </div>
                        <h3 class="text-slate-900 dark:text-white text-2xl font-bold mb-2">拖拽文件至此</h3>
                        <p class="text-slate-500 dark:text-slate-400 text-base mb-8 text-center max-w-md">或点击浏览本地存储。支持 ZIP、PKG、DMG 及大型媒体文件。</p>
                        <button class="px-6 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-white rounded-lg font-medium border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors shadow-sm">
                            浏览文件
                        </button>
                    </div>
                </section>

                <!-- 活动传输列表 -->
                <section class="flex flex-col gap-4">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-slate-900 dark:text-white text-lg font-bold flex items-center gap-2">
                            当前传输 
                            <span class="px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700">2</span>
                        </h3>
                        <button class="text-primary hover:text-primary-dark text-sm font-medium">查看全部</button>
                    </div>
                    
                    <!-- 传输卡片 1: 正在进行 -->
                    <div class="glass-panel p-5 rounded-xl flex items-center gap-5 transition-transform hover:-translate-y-1 duration-200">
                        <div class="h-12 w-12 rounded-lg bg-blue-50 dark:bg-blue-500/20 flex items-center justify-center flex-shrink-0 text-blue-500 dark:text-blue-400">
                            <span class="material-symbols-outlined">folder_zip</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex justify-between items-center mb-1">
                                <h4 class="text-slate-900 dark:text-white font-semibold truncate">项目资产压缩包.zip</h4>
                                <span class="text-slate-500 dark:text-slate-400 text-xs font-mono">45 MB/s</span>
                            </div>
                            <div class="flex justify-between items-center text-xs text-slate-500 mb-2">
                                <span>1.2 GB / 1.6 GB</span>
                                <span>剩余 2 分钟</span>
                            </div>
                            <div class="relative h-2 w-full bg-slate-200 dark:bg-slate-700/50 rounded-full overflow-hidden">
                                <div class="absolute top-0 left-0 h-full bg-primary w-[72%] shadow-[0_0_10px_rgba(59,130,246,0.5)]"></div>
                            </div>
                        </div>
                        <button class="h-10 w-10 flex items-center justify-center rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 text-slate-400 hover:text-slate-700 dark:hover:text-white transition-colors">
                            <span class="material-symbols-outlined">pause</span>
                        </button>
                        <button class="h-10 w-10 flex items-center justify-center rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 text-slate-400 hover:text-accent-error transition-colors">
                            <span class="material-symbols-outlined">close</span>
                        </button>
                    </div>

                    <!-- 传输卡片 2: 错误/中断 -->
                    <div class="glass-panel p-5 rounded-xl flex items-center gap-5 border-l-4 border-l-accent-error transition-transform hover:-translate-y-1 duration-200 bg-red-50/50 dark:bg-red-900/5">
                        <div class="h-12 w-12 rounded-lg bg-red-50 dark:bg-red-500/20 flex items-center justify-center flex-shrink-0 text-red-500 dark:text-red-400">
                            <span class="material-symbols-outlined">package_2</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex justify-between items-center mb-1">
                                <h4 class="text-slate-900 dark:text-white font-semibold truncate">设计系统最终版.pkg</h4>
                                <span class="text-accent-error text-xs font-bold flex items-center gap-1">
                                    <span class="material-symbols-outlined text-[14px]">wifi_off</span>
                                    连接断开
                                </span>
                            </div>
                            <div class="flex justify-between items-center text-xs text-slate-500 mb-2">
                                <span>560 MB / 1.0 GB</span>
                                <span>已暂停</span>
                            </div>
                            <div class="relative h-2 w-full bg-slate-200 dark:bg-slate-700/50 rounded-full overflow-hidden">
                                <div class="absolute top-0 left-0 h-full bg-accent-error w-[56%]"></div>
                            </div>
                        </div>
                        <button class="h-9 px-4 flex items-center gap-2 justify-center rounded-lg bg-red-100 dark:bg-accent-error/20 text-accent-error border border-red-200 dark:border-accent-error/30 hover:bg-accent-error hover:text-white transition-all shadow-sm dark:shadow-[0_0_15px_rgba(239,68,68,0.3)]">
                            <span class="material-symbols-outlined text-sm">refresh</span>
                            <span class="text-sm font-bold">继续</span>
                        </button>
                        <button class="h-10 w-10 flex items-center justify-center rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 text-slate-400 hover:text-slate-700 dark:hover:text-white transition-colors">
                            <span class="material-symbols-outlined">delete</span>
                        </button>
                    </div>
                </section>
            </div>
            
        </main>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;

        createApp({
            setup() {
                const isDarkMode = ref(true);
                const toggleTheme = () => {
                    isDarkMode.value = !isDarkMode.value;
                    if (isDarkMode.value) {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('theme', 'light');
                    }
                };

                onMounted(() => {
                    // 读取持久化主题
                    const savedTheme = localStorage.getItem('theme');
                    if (savedTheme) {
                        isDarkMode.value = savedTheme === 'dark';
                    } else if (window.matchMedia) {
                        isDarkMode.value = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    }
                    
                    if(isDarkMode.value) {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                });

                return { isDarkMode, toggleTheme }
            }
        }).mount('#app');
    </script>
</body>
</html>